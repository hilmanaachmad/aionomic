<wm-page name="mainpage" pagetitle="Proposal Budget Form" backgroundcolor="#ffffff">
    <wm-content name="content1">
        <wm-page-content name="pageContent1">
            <wm-container name="MainContainer" class="aio-p2p-main-container">
                <wm-container name="PageContentContainer" class="aio-p2p-page-content-container">
                    <wm-container name="HeaderContainer" class="aio-p2p-header-container" content="PageHeaderDetail">
                        <wm-param name="page" value="reclass" type="string"></wm-param>
                    </wm-container>
                    <wm-container name="PageContent" class="row aio-p2p-page-content" horizontalalign="center" padding="unset unset 24px unset">
                        <wm-container name="formContainer" horizontalalign="center" conditionalclass="bind:Variables.vmShowPdf.dataSet.dataValue ? 'col-md-5 col-md-offset-1 aio-p2p-detail-container2' : 'aio-p2p-detail-container'" padding="unset 8px unset unset">
                            <wm-container name="container8" horizontalalign="left" padding="24px unset">
                                <wm-label caption="bind:!pageParams.pbId ?  appLocale[&quot;LANG_ADD_PROPOSAL_BUDGET&quot;] : appLocale[&quot;LANG_ADD_PROPOSAL_BUDGET&quot;]" name="label1" fontsize="32" fontweight="bold"></wm-label>
                            </wm-container>
                            <wm-container name="formBody" padding="24px" backgroundcolor="#fff" margin="unset unset 24px unset">
                                <wm-container name="container14">
                                    <wm-composite name="composite2" captionposition="top" horizontalalign="left">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_BUDGET_YEAR_V" name="label8"></wm-label>
                                        <wm-container class="col-md-9 aio-p2p-form-container" name="container15" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.reclassAmount ? 'form-error':''">
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.reclassAmount" name="label15_1" show="true" class="aio-p2p-error-message"></wm-label>
                                            <wm-container class="col-md-9" width="100%" name="container17">
                                                <wm-text placeholder="bind:appLocale.LANG_SELECT_YEAR" name="textYear" disabled="bind:pageParams.pbId ? true : false" datavalue="bind:Variables.modelProposalBudget.dataSet.pbYear"></wm-text>
                                                <wm-picture picturesource="resources/images/logos/date.png" class="aio-p2p-icon-date" name="picture4"></wm-picture>
                                            </wm-container>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container105">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composites42">
                                        <wm-layoutgrid name="layoutgrid8">
                                            <wm-gridrow name="gridrow12_1">
                                                <wm-gridcolumn columnwidth="5" name="gridcolumn26_1">
                                                    <wm-label caption="bind:appLocale.LANG_START_DATE_V" name="label52" class="control-label"></wm-label>
                                                    <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.pbStartDate? 'form-error' : ''" name="container102_1">
                                                        <wm-date datepattern="dd/MM/yyyy" class="aio-p2p-form-field" placeholder="bind:appLocale.LANG_SELECT_DATE" name="date8" disabled="bind:pageParams.pbId ? true : false" on-change="date8Change($event, widget, newVal, oldVal)"
                                                            width="100%" datavalue="bind:Variables.modelProposalBudget.dataSet.pbStartDate"></wm-date>
                                                        <wm-label caption="bind:Variables.vmErrorMessage.dataSet.pbStartDate" show="bind:Variables.vmErrorMessage.dataSet.pbStartDate" class="aio-p2p-error-message" name="label52_1"></wm-label>
                                                    </wm-container>
                                                </wm-gridcolumn>
                                                <wm-gridcolumn columnwidth="1" name="gridcolumn25_1" horizontalalign="center">
                                                    <wm-label caption="-" name="label48_1" margin="30px unset unset unset"></wm-label>
                                                </wm-gridcolumn>
                                                <wm-gridcolumn columnwidth="6" name="gridcolumn29">
                                                    <wm-label caption="bind:appLocale.LANG_END_DATE_V" name="label53" class="control-label"></wm-label>
                                                    <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.pbEndDate? 'form-error' : ''" name="container101_1">
                                                        <wm-date name="date7" class="aio-p2p-form-field" datepattern="dd/MM/yyyy" placeholder="bind:appLocale.LANG_SELECT_DATE" disabled="bind:pageParams.pbId ? true : false" on-change="date7Change($event, widget, newVal, oldVal)"
                                                            width="100%" datavalue="bind:Variables.modelProposalBudget.dataSet.pbEndDate"></wm-date>
                                                        <wm-label caption="bind:Variables.vmErrorMessage.dataSet.pbEndDate" show="bind:Variables.vmErrorMessage.dataSet.pbEndDate" class="aio-p2p-error-message" name="label50_1"></wm-label>
                                                    </wm-container>
                                                </wm-gridcolumn>
                                            </wm-gridrow>
                                        </wm-layoutgrid>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container84">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite4">
                                        <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.pbProjectName ? 'form-error' : ''" name="container85">
                                            <wm-label caption="bind:appLocale.LANG_PROJECT_NAME_V" name="label38_1" class="control-label"></wm-label>
                                            <wm-text placeholder="bind:appLocale.LANG_SELECT_PROJECT_NAME" maxchars="100" type="text" class="aio-p2p-form-input" maxvalue="15" disabled="bind:pageParams.pbId ? true : false" updateon="default"
                                                name="textProjName" datavalue="bind:Variables.modelProposalBudget.dataSet.pbProjectName"></wm-text>
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.pbProjectName" show="bind:Variables.vmErrorMessage.dataSet.pbProjectName" class="aio-p2p-error-message" name="label39"></wm-label>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container86">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite5">
                                        <wm-label caption="bind:appLocale.LANG_AMOUNT_PROPOSAL_BUDGET_V" name="label40" class="control-label"></wm-label>
                                        <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.pbAmount ? 'form-error':''" name="container87">
                                            <wm-text placeholder="bind:appLocale.LANG_ENTER_AMOUNT" maxchars="19" type="text" class="aio-p2p-form-input" maxvalue="15" disabled="bind:pageParams.pbId ? true : false" updateon="default" on-change="textAmountChange($event, widget, newVal, oldVal)"
                                                name="textAmount" on-keyup="textAmountKeyup($event, widget)" datavalue="bind:App.formatCurrency(Variables.modelProposalBudget.dataSet.pbAmount)"></wm-text>
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.pbAmount" show="bind:Variables.vmErrorMessage.dataSet.pbAmount" class="aio-p2p-error-message" name="label41"></wm-label>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container horizontalalign="left" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.pbIoNumber ? 'form-error' : ''" name="container90">
                                    <wm-label caption="bind:appLocale.LANG_IO_NUMBER_V" name="label43_1" class="control-label"></wm-label>
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SEARCH_IO_NUMBER" datafield="All Fields" class="aio-p2p-form-field" disabled="bind:pageParams.pbId ? true : false" name="search2" on-select="search2Select($event, widget, selectedValue)"
                                        dataset="bind:Variables.getIOBudgetHeader.dataSet" searchkey="ioNumber,ioName" displaylabel="ioNumber"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.pbIoNumber" show="bind:Variables.vmErrorMessage.dataSet.pbIoNumber" class="aio-p2p-error-message" name="label44_1"></wm-label>
                                </wm-container>
                                <wm-container name="container91">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite7">
                                        <wm-label caption="bind:appLocale.LANG_IO_DESCRIPTION" name="label45" class="control-label"></wm-label>
                                        <wm-container class="col-md-9" width="100%" name="container92">
                                            <wm-text placeholder="" disabled="true" name="text12" datavalue="bind:Widgets.search2.datavalue.ioName"></wm-text>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container93">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite8">
                                        <wm-label caption="bind:appLocale.LABEL_AVAILABLE_BUDGET" name="label46" class="control-label"></wm-label>
                                        <wm-container class="col-md-9" width="100%" name="container94">
                                            <wm-text placeholder="" disabled="true" name="textAvailableBudget" datavalue="bind:(Variables.modelProposalBudget.dataSet.pbAvailableBudget? Variables.modelProposalBudget.dataSet.pbAvailableBudget : '0') | toCurrency: ''"></wm-text>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container23"></wm-container>
                                <wm-container name="container22_1" horizontalalign="left">
                                    <wm-label class="control-label" caption="bind:appLocale.LANG_ATTACHMENT_V" name="label11_1"></wm-label>
                                    <wm-container name="container26">
                                        <wm-container name="container27" display="flex" class="aio-p2p-upload-container">
                                            <wm-button class="btn-default aio-p2p-btn-upload" caption="bind:appLocale.LANG_SELECT_FILE" type="button" name="button6" iconurl="resources/images/logos/icon-file.png" on-click="button6Click($event, widget)" show="true"
                                                disabled="bind:pageParams.pbId ? true : false"></wm-button>
                                            <wm-container name="container28" width="100%"></wm-container>
                                        </wm-container>
                                        <wm-container name="container42" margin="5px unset unset unset">
                                            <wm-layoutgrid name="layoutgrid1">
                                                <wm-gridrow name="gridrow1">
                                                    <wm-gridcolumn columnwidth="12" name="gridcolumn1" horizontalalign="left">
                                                        <wm-label name="label3_1" caption="bind:appLocale.LANG_FILE_FORMAT" color="#666666"></wm-label>
                                                    </wm-gridcolumn>
                                                </wm-gridrow>
                                                <wm-gridrow name="gridrow5">
                                                    <wm-gridcolumn columnwidth="12" name="gridcolumn6_1">
                                                        <wm-label caption="bind:appLocale.LANG_WARNING_SPECIAL_CHAR" color="#666666" name="label29_1"></wm-label>
                                                    </wm-gridcolumn>
                                                </wm-gridrow>
                                                <wm-gridrow name="gridrow2">
                                                    <wm-gridcolumn columnwidth="12" name="gridcolumn3" padding="15px unset unset unset">
                                                        <wm-list listclass="list-group" itemclass="list-group-item" template="true" template-name="Action List" itemsperrow="xs-1 sm-1 md-1 lg-1" class="media-list" statehandler="URL" dataset="bind:Variables.varListFile.dataSet"
                                                            navigation="None" nodatamessage="" name="list2">
                                                            <wm-listtemplate layout="inline" name="listtemplate2">
                                                                <wm-layoutgrid show="true" name="layoutgrid2">
                                                                    <wm-gridrow name="gridrow3">
                                                                        <wm-gridcolumn columnwidth="10" name="gridcolumn5">
                                                                            <wm-label caption="bind:Widgets.list2.currentItem.attachment" class="aio-p2p-clickable" on-click="label26_2Click($event, widget, item, currentItemWidgets)" color="#404143" name="label26_2"></wm-label>
                                                                        </wm-gridcolumn>
                                                                        <wm-gridcolumn columnwidth="2" horizontalalign="right" name="gridcolumn6">
                                                                            <wm-picture picturesource="resources/images/logos/icon-eye.png" class="aio-p2p-clickable" show="bind:Widgets.list2.currentItem.raAttachment.indexOf('.pdf') !== -1 || Widgets.list2.currentItem.raAttachment.indexOf('.PDF') !== -1 ? true : false"
                                                                                on-click="picture7Click($event, widget, item, currentItemWidgets)" name="picture7" margin="unset 8px unset unset"></wm-picture>
                                                                            <wm-picture picturesource="resources/images/logos/icon-trash.png" class="aio-p2p-clickable" show="bind:!pageParams.pbId ? true : false" name="picture5" on-click="picture5Click($event, widget, item, currentItemWidgets)"></wm-picture>
                                                                        </wm-gridcolumn>
                                                                    </wm-gridrow>
                                                                </wm-layoutgrid>
                                                            </wm-listtemplate>
                                                        </wm-list>
                                                    </wm-gridcolumn>
                                                </wm-gridrow>
                                            </wm-layoutgrid>
                                        </wm-container>
                                        <wm-container name="container103" color="#BA0D2B" margin="24px unset unset unset">
                                            <wm-composite captionposition="top" horizontalalign="left" name="composite10">
                                                <wm-label caption="bind:appLocale[&quot;LANG_NOTES&quot;]+&quot;:&quot;" name="label53_1" class="col-md-12"></wm-label>
                                                <wm-label caption="bind:appLocale.LANG_1_AVAILABLE_BUDGET_AMOUNT_BASED_ON_LAST_POSITION_IT_MIGHT_BE_CHANGED_PLEASE_MONITOR_IO_USAGE_REGULARLY" class="col-md-12" name="label54_1"></wm-label>
                                                <wm-label caption="bind:appLocale.LANG_2_IF_AVAILABLE_BUDGET_BELOW_PROPOSAL_BUDGET_PLEASE_SUBMIT_RECLASS_OR_ADDITIONAL_BUDGET_FORM" class="col-md-12" name="label55"></wm-label>
                                            </wm-composite>
                                        </wm-container>
                                        <wm-label padding="unset 0.5em" name="label27" caption="bind:appLocale.LANG_ISREQUIRED" fontweight="bold" fontstyle="italic"></wm-label>
                                    </wm-container>
                                    <wm-fileupload name="fileupload1" on-select="fileupload1Select($event, widget, selectedFiles)" caption="Select File" iconclass="wi wi-file-text" contenttype=".jpeg .jpg .pdf .docx .doc .xlsx .xls" show="false"></wm-fileupload>
                                </wm-container>
                            </wm-container>
                            <wm-container name="btnContainer">
                                <wm-container name="container24_1" class="col-md-3" horizontalalign="left"></wm-container>
                                <wm-container class="col-md-9" horizontalalign="right" name="container25">
                                    <wm-button class="btn-default" caption="Cancel" type="button" margin="unset 0.5em" name="buttonCancel" color="#BA0D2B" fontweight="bold" on-click="buttonCancelClick($event, widget)" show="false" padding="10px 40px"></wm-button>
                                    <wm-button class="btn-default" caption="bind:appLocale.LANG_CANCEL" type="button" margin="unset 0.5em" name="buttonClose" color="#026CB6" fontweight="bold" disabled="false" show="true" padding="10px 40px"
                                        on-click="buttonCloseClick($event, widget)"></wm-button>
                                    <wm-button class="btn-default" caption="bind:appLocale.LANG_SAVE" type="button" margin="unset unset unset 0.5em" name="buttonSave" color="#fff" backgroundcolor="#026CB6" fontweight="bold" disabled="false"
                                        show="bind:!pageParams.pbId ? true : false" padding="10px 40px" on-click="buttonSaveClick($event, widget)"></wm-button>
                                </wm-container>
                            </wm-container>
                        </wm-container>
                        <wm-container name="container43" class="col-md-5 aio-ptp-pdf-viewer" padding="72px unset unset 8px" show="bind:Variables.vmShowPdf.dataSet.dataValue">
                            <wm-container name="container47" horizontalalign="right" padding="unset 32px 5px unset" conditionalstyle="bind:{
    position: &quot;sticky&quot;,
    top: &quot;24px&quot;,
    zIndex: &quot;10&quot;
}">
                                <wm-picture name="picture4" width="15" on-click="picture4Click($event, widget)" class="aio-p2p-clickable" pictureplaceholder="resources/images/imagelists/icon-close.png"></wm-picture>
                            </wm-container>
                            <wm-container name="container48" class="pdf-scroll" width="100%" height="100%">
                                <div id="pdf-canvas-container"></div>
                            </wm-container>
                        </wm-container>
                    </wm-container>
                    <wm-spinner show="false" name="spinner1" deferload="false"></wm-spinner>
                </wm-container>
            </wm-container>
            <wm-container name="FooterContainer" class="aio-p2p-footer-container" content="PageFooter"></wm-container>
        </wm-page-content>
    </wm-content>
</wm-page>