<wm-page name="mainpage" pagetitle="Reclass Budget" backgroundcolor="#ffffff">
    <wm-content name="content1">
        <wm-page-content name="pageContent1">
            <wm-container name="MainContainer" class="aio-p2p-main-container">
                <wm-container name="PageContentContainer" class="aio-p2p-page-content-container">
                    <wm-container name="HeaderContainer" class="aio-p2p-header-container" content="PageHeaderDetail">
                        <wm-param name="page" value="approval" type="string"></wm-param>
                    </wm-container>
                    <wm-container name="PageContent" class="row aio-p2p-page-content" horizontalalign="center" padding="unset unset 24px unset">
                        <wm-container name="formContainer" horizontalalign="center" padding="unset 8px unset unset" conditionalclass="bind:Variables.vmShowPdf.dataSet.dataValue ? 'col-md-5 col-md-offset-1 aio-p2p-detail-container2' : 'aio-p2p-detail-container'">
                            <wm-container name="container8" horizontalalign="left" padding="24px unset">
                                <wm-label caption="bind:appLocale.LANG_APPROVE_NEW_RECLASS" name="label1" fontsize="32" fontweight="bold"></wm-label>
                            </wm-container>
                            <wm-container name="formBody" padding="24px" backgroundcolor="#fff" margin="unset unset 24px unset">
                                <wm-container name="container11" horizontalalign="left" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.reclassCat ? 'form-error' : ''">
                                    <wm-label name="label2" caption="bind:appLocale.LANG_RECLASSIFICATION_CATEGORY" class="col-md-3 control-label"></wm-label>
                                    <wm-search name="selectCategory" type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_CATEGORY" dataset="bind:Variables.vdbReclassCat.dataSet" displaylabel="rcatTitle" datafield="All Fields" matchmode="anywhereignorecase"
                                        on-select="selectCategorySelect($event, widget, selectedValue)" datavalue="bind:Variables.vmReclassModel.dataSet.rcatId ? Variables.vmReclassModel.dataSet.tblMreclassCategory : null" class="aio-p2p-form-field" readonly="true"></wm-search>
                                    <wm-label name="label3" caption="bind:&quot;Notes: &quot;+ Variables.vmReclassModel.dataSet.rcatNote" color="#666666" show="bind:Variables.vmReclassModel.dataSet.rcatNote ? true : false"></wm-label>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.reclassCat" show="bind:Variables.vmErrorMessage.dataSet.reclassCat ? true : false" name="label18" class="aio-p2p-error-message"></wm-label>
                                    <wm-picture name="picture1" picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down"></wm-picture>
                                </wm-container>
                                <wm-container name="container46" margin="unset unset 20px unset">
                                    <wm-container name="container47_1" horizontalalign="left">
                                        <wm-label padding="unset 0.5em" name="labelRep" caption="bind:appLocale.LABEL_REPRESENTATIVE" fontweight="bold"></wm-label>
                                    </wm-container>
                                    <wm-search name="search4" type="autocomplete" dataset="bind:Variables.vmReclassModel.dataSet.repName" datafield="All Fields" matchmode="startignorecase" datavalue="bind:Variables.vmReclassModel.dataSet.repName" readonly="true"></wm-search>
                                </wm-container>
                                <wm-container name="container12">
                                    <wm-composite name="composite1" captionposition="top" horizontalalign="left">
                                        <wm-label class="col-md-3 control-label" name="label4" caption="bind:appLocale.LANG_REASON_AND_PURPOSE"></wm-label>
                                        <wm-container class="col-md-9 aio-p2p-form-container" name="container13" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.reasonPurpose ? 'form-error' : ''">
                                            <wm-textarea name="textareaReason" placeholder="bind:appLocale.LANG_ENTER_REASON_AND_PURPOSE" datavalue="bind:Variables.vmReclassModel.dataSet.reasonPurpose" class="aio-p2p-form-input" on-change="textareaReasonChange($event, widget, newVal, oldVal)"
                                                on-keyup="textareaReasonKeyup($event, widget)" readonly="true"></wm-textarea>
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.reasonPurpose" name="label14_1" show="bind:Variables.vmErrorMessage.dataSet.reasonPurpose ? true : false" class="aio-p2p-error-message"></wm-label>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container14">
                                    <wm-composite name="composite2" captionposition="top" horizontalalign="left">
                                        <wm-label class="col-md-3 control-label" name="label7" caption="bind:appLocale.LANG_RECLASS_AMOUNT"></wm-label>
                                        <wm-container class="col-md-9 aio-p2p-form-container" name="container15" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.reclassAmount ? 'form-error':''">
                                            <wm-text name="textAmount" placeholder="bind:appLocale.LANG_ENTER_AMOUNT" datavalue="bind:App.formatCurrency(Variables.vmReclassModel.dataSet.reclassAmount)" maxchars="15" type="text" class="aio-p2p-form-input"
                                                readonly="true"></wm-text>
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.reclassAmount" name="label15_1" show="true" class="aio-p2p-error-message"></wm-label>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container16">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite3">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_BUDGET_YEAR" name="label8"></wm-label>
                                        <wm-container class="col-md-9" width="100%" name="container17">
                                            <wm-text placeholder="bind:appLocale.LANG_SELECT_YEAR" name="selectYear" datavalue="bind:Variables.vmReclassModel.dataSet.budgetYear" readonly="true"></wm-text>
                                            <wm-picture picturesource="resources/images/logos/date.png" class="aio-p2p-icon-date" name="picture4"></wm-picture>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container horizontalalign="left" name="container19" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.ioOrigin ? 'form-error' : ''">
                                    <wm-label caption="bind:appLocale.LANG_ORIGIN_IO" class="col-md-3 control-label" name="label11"></wm-label>
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_ORIGIN_IO" name="searchIO" dataset="bind:Variables.queryGetIOListBH.dataSet" displaylabel="bind:$[ioName] ? $[ioNumber] + &quot; - &quot; + $[ioName] : $[ioNumber]"
                                        datafield="All Fields" on-select="searchIOSelect($event, widget, selectedValue)" datavalue="bind:Variables.vmReclassModel.dataSet.ioOriginNumber ? {&quot;ioNumber&quot;: Variables.vmReclassModel.dataSet.ioOriginNumber, &quot;ioName&quot;: Variables.vmReclassModel.dataSet.ioOriginName} : null"
                                        class="aio-p2p-form-field" readonly="true"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.ioOrigin" name="label16" show="bind:Variables.vmErrorMessage.dataSet.ioOrigin ? true : false" class="aio-p2p-error-message"></wm-label>
                                    <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture2"></wm-picture>
                                </wm-container>
                                <wm-container name="container20">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite4">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_ORIGIN_DEPARTMENT" name="label13"></wm-label>
                                        <wm-container class="col-md-9" width="100%" name="container21">
                                            <wm-text placeholder="bind:appLocale.LANG_ORIGIN_DEPARTMENT" name="textOriginDepartment" disabled="true" datavalue="bind:Variables.vmReclassModel.dataSet.ioOriginDepartment"></wm-text>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container horizontalalign="left" name="container22" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.ioDest ? 'form-error' : ''">
                                    <wm-label caption="bind:appLocale.LANG_DESTINATION_IO" class="col-md-3 control-label" name="label14"></wm-label>
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_DESTINATION_IO" name="searchDesIO" dataset="bind:Variables.queryGetIOListBH.dataSet" searchkey="ioName,ioNumber" displaylabel="bind:$[ioName] ? $[ioNumber] + &quot; - &quot; +$[ioName] : $[ioNumber]"
                                        datafield="All Fields" on-select="searchDesIOSelect($event, widget, selectedValue)" datavalue="bind:Variables.vmReclassModel.dataSet.ioDestNumber ? {&quot;ioNumber&quot;: Variables.vmReclassModel.dataSet.ioDestNumber, &quot;ioName&quot;: Variables.vmReclassModel.dataSet.ioDestName} : null"
                                        class="aio-p2p-form-field" readonly="true"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.ioDest" name="label17" show="bind:Variables.vmErrorMessage.dataSet.ioDest ? true : false" class="aio-p2p-error-message"></wm-label>
                                    <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture3"></wm-picture>
                                </wm-container>
                                <wm-container name="container23">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite5">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_DESTINATION_DEPARTMENT" name="label15"></wm-label>
                                        <wm-container class="col-md-9" width="100%" name="container24">
                                            <wm-text placeholder="bind:appLocale.LANG_DESTINATION_DEPARTMENT" name="textDesDepartment" disabled="true" datavalue="bind:Variables.vmReclassModel.dataSet.ioDestDepartment" readonly="false"></wm-text>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container22_1" horizontalalign="left">
                                    <wm-label class="control-label" caption="bind:appLocale.LANG_ATTACHMENT" name="label11_1"></wm-label>
                                    <wm-container name="container26">
                                        <wm-container name="container27" class="aio-p2p-upload-container">
                                            <wm-container name="container42_2" margin="5px unset unset unset">
                                                <wm-layoutgrid name="layoutgrid1">
                                                    <wm-gridrow name="gridrow2">
                                                        <wm-gridcolumn columnwidth="12" name="gridcolumn3" padding="15px unset unset unset">
                                                            <wm-list listclass="list-group" itemclass="list-group-item" template="true" template-name="Action List" itemsperrow="xs-1 sm-1 md-1 lg-1" class="media-list" statehandler="URL" dataset="bind:Variables.varListFile.dataSet"
                                                                navigation="None" nodatamessage="" name="list2">
                                                                <wm-listtemplate layout="inline" name="listtemplate2">
                                                                    <wm-layoutgrid show="true" name="layoutgrid2">
                                                                        <wm-gridrow name="gridrow3">
                                                                            <wm-gridcolumn columnwidth="10" name="gridcolumn5">
                                                                                <wm-label caption="bind:Widgets.list2.currentItem.raAttachment" class="aio-p2p-clickable" on-click="label26_2Click($event, widget, item, currentItemWidgets)" color="#404143" name="label26_2"></wm-label>
                                                                            </wm-gridcolumn>
                                                                            <wm-gridcolumn columnwidth="2" horizontalalign="right" name="gridcolumn6">
                                                                                <wm-picture picturesource="resources/images/logos/icon-eye.png" class="aio-p2p-clickable" show="bind:Widgets.list2.currentItem.raAttachment.indexOf('.pdf') !== -1 ? true : false"
                                                                                    on-click="picture7Click($event, widget, item, currentItemWidgets)" name="picture7" margin="unset 8px unset unset"></wm-picture>
                                                                                <wm-picture picturesource="resources/images/logos/icon-trash.png" class="aio-p2p-clickable" show="false" name="picture5" on-click="picture5Click($event, widget, item, currentItemWidgets)"></wm-picture>
                                                                            </wm-gridcolumn>
                                                                        </wm-gridrow>
                                                                    </wm-layoutgrid>
                                                                </wm-listtemplate>
                                                            </wm-list>
                                                        </wm-gridcolumn>
                                                    </wm-gridrow>
                                                </wm-layoutgrid>
                                            </wm-container>
                                        </wm-container>
                                    </wm-container>
                                    <wm-fileupload name="attachmentReclass" on-select="Variables.FileServiceUploadFile.invoke();attachmentReclassSelect($event, widget, selectedFiles)" caption="Select File" iconclass="wi wi-file-text" contenttype=".jpeg .jpg .pdf .docx .doc .xlsx .xls"
                                        show="false"></wm-fileupload>
                                </wm-container>
                            </wm-container>
                            <wm-container name="container41" backgroundcolor="#fff" padding="24px" margin="unset unset 24px unset">
                                <wm-container name="container39_1">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite6">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_COMMENT" name="label26_1"></wm-label>
                                        <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.reasonPurpose ? 'form-error' : ''" name="container40">
                                            <wm-textarea placeholder="enter comment" class="aio-p2p-form-input" on-change="textareaReasonChange($event, widget, newVal, oldVal)" on-keyup="textareaReasonKeyup($event, widget)" name="textComment"></wm-textarea>
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.reasonPurpose" show="bind:Variables.vmErrorMessage.dataSet.reasonPurpose ? true : false" class="aio-p2p-error-message" name="label27"></wm-label>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                            </wm-container>
                            <wm-container name="btnContainer">
                                <wm-container name="container24_1" class="col-md-3" horizontalalign="left">
                                    <wm-button class="btn-default" caption="bind:appLocale.LANG_HISTORY" type="button" margin="unset 0.5em unset unset" name="buttonHistory" iconurl="resources/images/logos/icon-history.png" color="#026CB6" fontweight="bold"
                                        on-click="Widgets.dialogHistory.open()" padding="10px 40px"></wm-button>
                                </wm-container>
                                <wm-container class="col-md-9" horizontalalign="right" name="container25">
                                    <wm-button class="btn-default" caption="bind:appLocale.LANG_REVISE" type="button" margin="unset 0.5em" name="buttonRevise" color="#026CB6" fontweight="bold" on-click="buttonReviseClick($event, widget)" disabled="bind:Variables.vmLoading.dataSet.spinner1"
                                        padding="10px 40px"></wm-button>
                                    <wm-button class="btn-default" caption="bind:appLocale.LANG_REJECT" type="button" margin="unset 0.5em" name="buttonReject" color="#BA0D2B" fontweight="bold" on-click="buttonRejectClick($event, widget)" disabled="bind:Variables.vmLoading.dataSet.spinner1"
                                        padding="10px 40px"></wm-button>
                                    <wm-button class="btn-default" caption="bind:appLocale.LANG_APPROVE" type="button" margin="unset unset unset 0.5em" name="buttonApproval" color="#fff" backgroundcolor="#026CB6" fontweight="bold" on-click="buttonApprovalClick($event, widget)"
                                        disabled="bind:Variables.vmLoading.dataSet.spinner1" padding="10px 40px"></wm-button>
                                </wm-container>
                            </wm-container>
                            <wm-spinner show="bind:Variables.vmLoading.dataSet.spinner1" name="spinner2"></wm-spinner>
                            <wm-spinner show="false" name="spinner2_1"></wm-spinner>
                        </wm-container>
                        <wm-container name="container43" class="col-md-5 aio-ptp-pdf-viewer" padding="72px unset unset 8px" show="bind:Variables.vmShowPdf.dataSet.dataValue">
                            <wm-container name="container47" horizontalalign="right" padding="unset 32px 5px unset" conditionalstyle="bind:{
    position: &quot;sticky&quot;,
    top: &quot;24px&quot;,
    zIndex: &quot;10&quot;
}">
                                <wm-picture name="picture4" width="15" on-click="picture4Click($event, widget)" class="aio-p2p-clickable" pictureplaceholder="resources/images/imagelists/icon-close.png"></wm-picture>
                            </wm-container>
                            <wm-container name="container48" class="pdf-scroll">
                                <div id="pdf-canvas-container"></div>
                            </wm-container>
                        </wm-container>
                    </wm-container>
                </wm-container>
            </wm-container>
            <wm-container name="FooterContainer" class="aio-p2p-footer-container" content="PageFooter"></wm-container>
        </wm-page-content>
    </wm-content>
    <wm-dialog dialogtype="design-dialog" modal="true" title="bind:appLocale.LANG_HISTORY" iconclass="" name="dialogHistory" class="aio-p2p-modal" width="977">
        <wm-dialogactions name="dialogactions1">
            <wm-button class="btn-primary" caption="bind:appLocale.LANG_CLOSE" on-click="closeDialog()" name="button6_1"></wm-button>
        </wm-dialogactions>
        <wm-container name="container42">
            <wm-container name="container29" display="block" backgroundcolor="#F6F7F8" padding="8px 16px">
                <wm-container name="container30" display="inline-block" width="25%">
                    <wm-label padding="unset 0.5em" name="label23" fontweight="bold" caption="bind:appLocale.LANG_NAME"></wm-label>
                </wm-container>
                <wm-container name="container31" display="inline-block" width="18%">
                    <wm-label padding="unset 0.5em" name="label24" fontweight="bold" caption="bind:appLocale.LANG_ACTIONS"></wm-label>
                </wm-container>
                <wm-container display="inline-block" name="container32" width="18%">
                    <wm-label padding="unset 0.5em" name="label25" fontweight="bold" caption="bind:appLocale.LANG_DATE"></wm-label>
                </wm-container>
                <wm-container display="inline-block" name="container33" width="38%">
                    <wm-label padding="unset 0.5em" name="label26" fontweight="bold" caption="bind:appLocale.LANG_COMMENTS"></wm-label>
                </wm-container>
            </wm-container>
            <wm-list listclass="list-group" itemclass="list-group-item" template="true" template-name="Contact List" itemsperrow="xs-1 sm-1 md-1 lg-1" class="media-list" datafield="All Fields" statehandler="URL" name="listHistory" navigation="None" dataset="bind:Variables.vdbReclassHistory.dataSet">
                <wm-listtemplate layout="inline" name="listtemplate1">
                    <wm-container display="block" name="container35" padding="unset 16px">
                        <wm-container display="inline-block" name="container36" width="25%">
                            <wm-label padding="unset 0.5em" name="label28" caption="bind:Widgets.listHistory.currentItem.rhEmployeeName"></wm-label>
                        </wm-container>
                        <wm-container display="inline-block" name="container37" width="18%">
                            <wm-label padding="unset 0.5em" name="label29" caption="bind:Widgets.listHistory.currentItem.rhAction"></wm-label>
                        </wm-container>
                        <wm-container display="inline-block" name="container38" width="18%">
                            <wm-label padding="unset 0.5em" name="label30" caption="bind:Widgets.listHistory.currentItem.rhTimestamp | toDate: 'yyyy-MM-dd hh:mm a'"></wm-label>
                        </wm-container>
                        <wm-container display="inline-block" name="container39" width="38%">
                            <wm-label padding="unset 0.5em" name="label31" caption="bind:Widgets.listHistory.currentItem.rhComment" hint="bind:Widgets.listHistory.currentItem.rhComment"></wm-label>
                        </wm-container>
                    </wm-container>
                </wm-listtemplate>
            </wm-list>
        </wm-container>
    </wm-dialog>
</wm-page>