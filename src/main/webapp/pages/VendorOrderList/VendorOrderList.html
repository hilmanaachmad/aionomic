<wm-page name="mainpage" pagetitle="Order List" backgroundcolor="#ffffff">
    <wm-content name="content1">
        <wm-page-content name="pageContent1">
            <wm-container name="MainContainer" class="aio-p2p-main-container">
                <wm-container name="SidebarContainer" class="aio-p2p-sidebar-container" content="PageSidebar">
                    <wm-param name="activeMenu" value="bind:pageParams.company_code == '1000' ? 'order-list-aio' : 'order-list-odi'" type="string"></wm-param>
                </wm-container>
                <wm-container name="PageContentContainer" class="aio-p2p-page-content-container">
                    <wm-container name="HeaderContainer" class="aio-p2p-header-container" content="PageHeader">
                        <wm-param name="pageTitle" value="bind:pageParams.company_code == '1000' ? 'Order List PT. Amerta Indah Otsuka' : 'Order List PT.Otsuka Distribution Indonesia'" type="string"></wm-param>
                    </wm-container>
                    <wm-container name="PageContent" class="aio-p2p-page-content" padding="unset 32px 32px 32px">
                        <wm-container name="background" backgroundcolor="#fff" conditionalstyle="bind:{
    maxWidth: &quot;1200px&quot;,
    minWidth: &quot;600px&quot;
}">
                            <wm-container name="contentContainer" padding="24px" class="aio-p2p-content-container">
                                <wm-container name="container15">
                                    <wm-layoutgrid name="layoutgrid2">
                                        <wm-gridrow name="gridrow2">
                                            <wm-gridcolumn columnwidth="3" name="gridcolumn5_1" padding="unset 16px unset unset">
                                                <wm-composite name="composite2">
                                                    <wm-container class="col-md-9" name="container15_1" width="100%">
                                                        <wm-select name="selectSearchBy" dataset="bind:Variables.vmSearchCriteria.dataSet" datafield="dataValue" displayfield="name" placeholder="bind:appLocale.LANG_SEARCH_BY" on-change="selectSearchByChange($event, widget, newVal, oldVal)"></wm-select>
                                                    </wm-container>
                                                </wm-composite>
                                            </wm-gridcolumn>
                                            <wm-gridcolumn columnwidth="3" name="gridcolumn6_1" padding="unset 16px unset unset">
                                                <wm-composite name="composite3">
                                                    <wm-container class="col-md-9" name="container16_1" width="100%">
                                                        <wm-text name="searchValue" type="search" disabled="bind:Widgets.selectSearchBy.datavalue ? &quot;false&quot; : &quot;true&quot;" placeholder="bind:appLocale.LANG_ENTER_KEYWORD" on-keyup="searchValueKeyup($event, widget)"
                                                            show="bind:Widgets.selectSearchBy.datavalue === 2 || Widgets.selectSearchBy.datavalue == '' || Widgets.selectSearchBy.datavalue == undefined  ? true : false" updateon="default"></wm-text>
                                                        <wm-date placeholder="bind:appLocale.LANG_SELECT_DATE" datepattern="dd/MM/yyyy" name="date5" show="bind:Widgets.selectSearchBy.datavalue == 1 ? true : false" on-change="Variables.vendorListOrder.listRecords()"></wm-date>
                                                    </wm-container>
                                                    <wm-select name="selectStatus" dataset="bind:Variables.statusModel.dataSet" datafield="dataValue" displayfield="name" show="bind:Widgets.selectSearchBy.datavalue == 3  ? true : false" placeholder="select status"
                                                        on-change="Variables.vendorListOrder.listRecords()"></wm-select>
                                                </wm-composite>
                                            </wm-gridcolumn>
                                            <wm-gridcolumn columnwidth="6" name="gridcolumn9"></wm-gridcolumn>
                                        </wm-gridrow>
                                    </wm-layoutgrid>
                                </wm-container>
                                <wm-layoutgrid name="layoutgridFilter"></wm-layoutgrid>
                                <wm-container class="aio-p2p-scroll-x" name="container37">
                                    <wm-container width="1050" name="container38">
                                        <wm-container class="aio-p2p-table-header" padding="16px" name="container39">
                                            <wm-container display="inline-block" width="4%" name="container40_1" horizontalalign="center">
                                                <wm-label caption="bind:appLocale.LANG_NO" name="label22_1"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="20%" class="aio-p2p-clickable" on-click="container3423Click($event, widget)" name="container3423" horizontalalign="center">
                                                <wm-label padding="unset 0.5em" caption="PO Number" name="label23_1" class="aio-p2p-clickable"></wm-label>
                                                <wm-picture picturesource="bind:Variables.vendorListOrder.orderBy == &quot;sapPoNumber ASC&quot; ?  &quot;resources/images/logos/icon-up-down-asc.png&quot; : Variables.vendorListOrder.orderBy  == &quot;sapPoNumber DESC&quot; ?  &quot;resources/images/logos/icon-up-down-desc.png&quot; : &quot;resources/images/logos/icon-up-down.png&quot;"
                                                    name="picture10" width="16" height="16"></wm-picture>
                                            </wm-container>
                                            <wm-container display="inline-block" width="20%" class="aio-p2p-clickable" on-click="container41Click($event, widget)" horizontalalign="center" name="container39_1">
                                                <wm-label padding="unset 0.5em" caption="Receive Date" class="aio-p2p-clickable" name="label20"></wm-label>
                                                <wm-picture picturesource="bind:Variables.vendorListOrder.orderBy == &quot;lastApprovedDate ASC&quot; ?  &quot;resources/images/logos/icon-up-down-asc.png&quot; : Variables.vendorListOrder.orderBy  == &quot;lastApprovedDate DESC&quot; ?  &quot;resources/images/logos/icon-up-down-desc.png&quot; : &quot;resources/images/logos/icon-up-down.png&quot;"
                                                    width="16" height="16" name="picture9"></wm-picture>
                                            </wm-container>
                                            <wm-container display="inline-block" width="30%" class="aio-p2p-clickable" on-click="container42Click($event, widget)" name="container42" horizontalalign="center">
                                                <wm-label padding="unset 0.5em" caption="AIO's User" name="label24" class="aio-p2p-clickable"></wm-label>
                                                <wm-picture picturesource="bind:Variables.vendorListOrder.orderBy == &quot;prCreatedName ASC&quot; ?  &quot;resources/images/logos/icon-up-down-asc.png&quot; : Variables.vendorListOrder.orderBy  == &quot;prCreatedName DESC&quot; ?  &quot;resources/images/logos/icon-up-down-desc.png&quot; : &quot;resources/images/logos/icon-up-down.png&quot;"
                                                    name="picture20_2" width="16" height="16"></wm-picture>
                                            </wm-container>
                                            <wm-container display="inline-block" width="30%" class="aio-p2p-clickable" on-click="container43Click($event, widget)" name="container43" horizontalalign="center" show="false">
                                                <wm-label padding="unset 0.5em" caption="Order" name="label25" class="aio-p2p-clickable"></wm-label>
                                                <wm-picture picturesource="bind:Variables.dbTblTProposalBudget.orderBy === &quot;pbYear ASC&quot; ? &quot;resources/images/logos/icon-up-down-asc.png&quot; : Variables.dbTblTProposalBudget.orderBy === &quot;pbYear DESC&quot; ? &quot;resources/images/logos/icon-up-down-desc.png&quot; : &quot;resources/images/logos/icon-up-down.png&quot;"
                                                    name="picture12" width="16" height="16"></wm-picture>
                                            </wm-container>
                                            <wm-container display="inline-block" width="8%" class="aio-p2p-clickable" on-click="container44Click($event, widget)" name="container44" horizontalalign="center" show="false">
                                                <wm-label padding="unset 0.5em" caption="QTY" name="label26" class="aio-p2p-clickable"></wm-label>
                                                <wm-picture picturesource="bind:Variables.dbTblTProposalBudget.orderBy === &quot;pbIoNumber ASC&quot; ? &quot;resources/images/logos/icon-up-down-asc.png&quot; : Variables.dbTblTProposalBudget.orderBy === &quot;pbIoNumber DESC&quot; ? &quot;resources/images/logos/icon-up-down-desc.png&quot; : &quot;resources/images/logos/icon-up-down.png&quot;"
                                                    name="picture13" width="16" height="16"></wm-picture>
                                            </wm-container>
                                            <wm-container display="inline-block" width="13%" class="aio-p2p-clickable" on-click="container45Click($event, widget)" name="container45" horizontalalign="center" show="false">
                                                <wm-label padding="unset 0.5em" caption="ETA" name="label27" class="aio-p2p-clickable"></wm-label>
                                                <wm-picture picturesource="bind:Variables.dbTblTProposalBudget.orderBy === &quot;pbIoDesc ASC&quot; ? &quot;resources/images/logos/icon-up-down-asc.png&quot; : Variables.dbTblTProposalBudget.orderBy === &quot;pbIoDesc DESC&quot; ? &quot;resources/images/logos/icon-up-down-desc.png&quot; : &quot;resources/images/logos/icon-up-down.png&quot;"
                                                    name="picture14" width="16" height="16"></wm-picture>
                                            </wm-container>
                                            <wm-container display="inline-block" width="15%" class="aio-p2p-clickable" on-click="container68Click($event, widget)" name="container68" horizontalalign="center">
                                                <wm-label padding="unset 0.5em unset unset" caption="bind:appLocale.LANG_STATUS" class="aio-p2p-clickable" name="label26_1"></wm-label>
                                                <wm-picture picturesource="bind:Variables.vendorListOrder.orderBy == &quot;status ASC&quot; ?  &quot;resources/images/logos/icon-up-down-asc.png&quot; : Variables.vendorListOrder.orderBy  == &quot;status DESC&quot; ?  &quot;resources/images/logos/icon-up-down-desc.png&quot; : &quot;resources/images/logos/icon-up-down.png&quot;"
                                                    width="16" height="16" name="picture22_1"></wm-picture>
                                            </wm-container>
                                        </wm-container>
                                        <wm-list listclass="list-group" itemclass="list-group-item" template="true" template-name="Media List" itemsperrow="xs-1 sm-1 md-1 lg-1" class="media-list" navigation="Basic" on-beforedatarender="list3Beforedatarender(widget, $data)"
                                            name="list3" statehandler="none" dataset="bind:Variables.vendorListOrder.dataSet" on-click="list3Click($event, widget)">
                                            <wm-listtemplate layout="media" name="listtemplate3">
                                                <wm-container padding="unset 8px" name="container51">
                                                    <wm-container display="inline-block" width="4%" name="container52" horizontalalign="center">
                                                        <wm-label caption="bind:Widgets.list3.currentItem.nomor" name="label33" margin="unset unset unset -25px"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="20%" name="container53" horizontalalign="center">
                                                        <wm-label padding="unset 0.5em" caption="bind:Widgets.list3.currentItem.sapPoNumber" name="label34"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="20%" horizontalalign="center" name="container40">
                                                        <wm-label padding="unset 0.5em" caption="bind:Widgets.list3.currentItem.lastApprovedDate  | toDate: 'dd/MM/yyyy'" name="label21"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="30%" name="container54" horizontalalign="center" on-click="container54Click($event, widget, item, currentItemWidgets)">
                                                        <wm-label padding="unset 0.5em" caption="bind:Widgets.list3.currentItem.poCreatedName" name="label35"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="30%" name="container55" horizontalalign="center" show="false">
                                                        <wm-label padding="unset 0.5em" caption="-" name="label36"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="8%" name="container56" horizontalalign="center" show="false">
                                                        <wm-label padding="unset 0.5em" caption="-" name="label37"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="13%" name="container57" horizontalalign="center" show="false">
                                                        <wm-label padding="unset 0.5em" caption="-" name="label38"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="15%" name="container72" horizontalalign="center">
                                                        <wm-label padding="unset 0.5em" caption="bind:BindingStatus(Widgets.list3.currentItem.status);" name="label30_1"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="10%" horizontalalign="right" name="container63" show="true">
                                                        <wm-picture picturesource="resources/images/logos/icon-summarize-2.png" on-click="detailPOClick($event, widget, item, currentItemWidgets)" margin="unset 8px unset unset" class="aio-p2p-clickable" name="detailPO"
                                                            show="true" width="34" height="34"></wm-picture>
                                                        <wm-picture picturesource="resources/images/logos/truck-rkurniawan.png" on-click="DetailDeliveryOrderClick($event, widget, item, currentItemWidgets)" margin="unset 8px unset unset" class="aio-p2p-clickable"
                                                            show="bind:Widgets.list3.currentItem.status == 'Accepted' ? true : false" width="34" height="34" name="DetailDeliveryOrder"></wm-picture>
                                                    </wm-container>
                                                </wm-container>
                                            </wm-listtemplate>
                                        </wm-list>
                                    </wm-container>
                                </wm-container>
                                <wm-container margin="25px unset unset unset" name="container64">
                                    <wm-layoutgrid name="layoutgrid5">
                                        <wm-gridrow name="gridrow5">
                                            <wm-gridcolumn columnwidth="9" name="gridcolumn23"></wm-gridcolumn>
                                            <wm-gridcolumn columnwidth="1" name="gridcolumn24">
                                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_SHOW" padding="2px unset" margin="8px unset unset unset" name="label44"></wm-label>
                                            </wm-gridcolumn>
                                            <wm-gridcolumn columnwidth="2" name="gridcolumn25">
                                                <wm-select name="select9" datavalue="10" dataset="bind:Variables.sortirNumber.dataSet" datafield="dataValue" displayfield="name" on-change="select9Change($event, widget, newVal, oldVal)"></wm-select>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                    </wm-layoutgrid>
                                </wm-container>
                            </wm-container>
                        </wm-container>
                    </wm-container>
                </wm-container>
            </wm-container>
            <wm-spinner show="false" name="spinner2" class="spinner-show" servicevariabletotrack="dbTblPbAttachment,dbTblTProposalBudgetAll,qGetIOListBH,dbTblTProposalBudget,FileServiceDownloadFile,FileServiceDeleteFile,dbTblTPurchaseRequest,FileServiceUploadFile,vdbBudgetDetail"></wm-spinner>
        </wm-page-content>
    </wm-content>
    <wm-confirmdialog on-ok="dialogDeleteOk($event, widget)" on-cancel="Widgets.dialogDelete.close()" name="dialogDelete" title="bind:appLocale.LANG_DELETE_CONFIRMATION" message="bind:appLocale.LANG_ARE_YOU_SURE_YOU_WANT_TO_DELETE_THIS_ACTION_CAN_T_BE_UNDONE_AND_THE_DATA_CAN_T_BE_RESTORED"
        oktext="bind:appLocale.LANG_DELETE" class="aio-p2p-modal aio-p2p-modal-delete" canceltext="bind:appLocale.LANG_CANCEL" modal="false" iconclass=""></wm-confirmdialog>
    <wm-dialog dialogtype="design-dialog" modal="true" title="Status Delivery" iconclass="" name="dialogItem" class="aio-p2p-modal" on-opened="dialogItemOpened($event, widget)">
        <wm-layoutgrid name="layoutgrid1">
            <wm-gridrow name="gridrow2">
                <wm-gridcolumn columnwidth="12" name="gridcolumn3">
                    <wm-container backgroundcolor="#fff" fontsize="14" name="container80_1">
                        <wm-container horizontalalign="left" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.ubCatId ? 'form-error' : ''" name="container81">
                            <wm-composite captionposition="top" horizontalalign="left" name="composites42">
                                <wm-label caption="Qty" name="label42"></wm-label>
                            </wm-composite>
                            <wm-text placeholder="" disabled="true" datavalue="bind:Variables.varIOTmp.dataSet.ioDesc" name="text12" type="number"></wm-text>
                        </wm-container>
                        <wm-container name="container105">
                            <wm-composite captionposition="top" horizontalalign="left" name="composites42">
                                <wm-layoutgrid name="layoutgrid8">
                                    <wm-gridrow name="gridrow12_1">
                                        <wm-gridcolumn columnwidth="12" name="gridcolumn26_1">
                                            <wm-label caption="Date &amp; Time" name="label52"></wm-label>
                                            <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.startDate !== null ? 'form-error' : ''" name="container102_1">
                                                <wm-date datepattern="dd/MM/yyyy" datavalue="bind:Widgets.list3.selecteditem.pbStartDate" placeholder="bind:appLocale.LANG_SELECT_DATE" name="date8" width="100%"></wm-date>
                                                <wm-label caption="bind:Variables.vmErrorMessage.dataSet.startDate" show="true" class="aio-p2p-error-message" name="label52_1"></wm-label>
                                            </wm-container>
                                        </wm-gridcolumn>
                                    </wm-gridrow>
                                </wm-layoutgrid>
                            </wm-composite>
                        </wm-container>
                        <wm-container horizontalalign="left" name="container97">
                            <wm-label caption="bind:appLocale.LANG_ATTACHMENT" name="label48"></wm-label>
                            <wm-container name="container98">
                                <wm-container display="flex" class="aio-p2p-upload-container" name="container99">
                                    <wm-button class="btn-default aio-p2p-btn-upload" caption="bind:appLocale.LANG_SELECT_FILE" type="button" iconurl="resources/images/logos/icon-file.png" on-click="button6Click($event, widget)" disabled="false" name="button6"></wm-button>
                                    <wm-container width="100%" name="container100"></wm-container>
                                </wm-container>
                            </wm-container>
                            <wm-fileupload on-select="Variables.FileServiceUploadFile.invoke()" caption="Select File" iconclass="wi wi-file-text" contenttype=".jpeg .jpg .pdf .docx .doc .xlsx .xls" show="false" name="attachmentWidget"></wm-fileupload>
                        </wm-container>
                    </wm-container>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-dialogactions name="dialogactions2">
            <wm-button class="btn-outline" caption="bind:appLocale.LANG_CANCEL" on-click="button8Click($event, widget)" name="button8"></wm-button>
            <wm-button class="btn-primary" caption="Submit" on-click="button11Click($event, widget)" name="button11" margin="unset unset unset 10px"></wm-button>
        </wm-dialogactions>
    </wm-dialog>
</wm-page>
