<wm-page name="mainpage" pagetitle="bind:appLocale.LANG_FORM_PURCHASE_REQUEST" backgroundcolor="#ffffff">
    <wm-content name="content1">
        <wm-page-content name="pageContent1">
            <wm-container name="MainContainer">
                <wm-container name="PageContentContainer" class="aio-p2p-page-content-container">
                    <wm-container name="HeaderContainer" class="aio-p2p-header-container" content="PageHeaderDetail"></wm-container>
                    <wm-container name="PageContent" class="aio-p2p-page-content aio-p2p-linear" horizontalalign="center">
                        <wm-container name="formContainer" horizontalalign="center" conditionalclass="bind:{'aio-p2p-detail-container' : !Variables.varShowPdf.dataSet.dataValue, 'aio-p2p-detail-container2' : Variables.varShowPdf.dataSet.dataValue}">
                            <wm-container name="container8" horizontalalign="left" padding="24px unset">
                                <wm-label caption="bind:appLocale.LANG_EDIT_PURCHASE_REQUEST" name="label1" fontsize="32" fontweight="bold"></wm-label>
                            </wm-container>
                            <wm-container name="formBody" padding="24px" backgroundcolor="#fff" margin="unset unset 24px unset">
                                <wm-container name="container11" horizontalalign="left" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.cid ? 'form-error' : ''">
                                    <wm-label name="label2" caption="bind:appLocale.LANG_COMPANY" class="col-md-3 control-label"></wm-label>
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_COMPANY" dataset="bind:Variables.vCompany.dataSet" displaylabel="ctitle" datafield="All Fields" matchmode="startignorecase" class="aio-p2p-form-field"
                                        disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;" name="searchCompany" datacompletemsg="bind:''"
                                        datavalue="bind:Variables.vmPRModel.dataSet.tblMcompany"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.cid" show="bind:Variables.vmErrorMessage.dataSet.cid ? true : false" name="label18" class="aio-p2p-error-message"></wm-label>
                                    <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture7_1"></wm-picture>
                                </wm-container>
                                <wm-container name="container40_1">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite7">
                                        <wm-container name="container12">
                                            <wm-composite name="composite1" captionposition="top" horizontalalign="left">
                                                <wm-label class="col-md-3 control-label" name="label4" caption="bind:appLocale.LANG_REPRESENTATIVE"></wm-label>
                                                <wm-container class="col-md-9 aio-p2p-form-container" name="container13" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.prRepUserId ? 'form-error' : ''">
                                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_REPRESENTATIVE" dataset="bind:Variables.vEmployee.dataSet" displaylabel="employeeName" datafield="All Fields" matchmode="startignorecase"
                                                        class="aio-p2p-form-field" disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;"
                                                        name="searchRepresentative" datacompletemsg="bind:''" datavalue="bind:Variables.vPurchaseRequest.firstRecord.prRepUserNik ? Variables.vEmployeeDef.firstRecord : null" searchkey="employeeName,nik" on-select="searchRepresentativeSelect($event, widget, selectedValue)"
                                                        on-clear="searchRepresentativeClear($event, widget)"></wm-search>
                                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.prRepUserId" name="label14_1" show="bind:Variables.vmErrorMessage.dataSet.prRepUserId ? true : false" class="aio-p2p-error-message"></wm-label>
                                                </wm-container>
                                            </wm-composite>
                                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture9_1"></wm-picture>
                                        </wm-container>
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_DEPARTMENT" name="label24_1"></wm-label>
                                        <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.departmentId ? 'form-error':''" name="container41">
                                            <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_DEPARTMENT" dataset="bind:Variables.vDepartment.dataSet" displaylabel="departmentTitle" datafield="All Fields" matchmode="startignorecase" on-select="selectCategorySelect($event, widget, selectedValue)"
                                                class="aio-p2p-form-field" disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;" name="searchDepartment"
                                                datacompletemsg="bind:''" datavalue="bind:Variables.vmPRModel.dataSet.tblMdepartment"></wm-search>
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.departmentId" show="bind:Variables.vmErrorMessage.dataSet.departmentId ? true : false" class="aio-p2p-error-message" name="label25_1"></wm-label>
                                        </wm-container>
                                    </wm-composite>
                                    <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture8_1"></wm-picture>
                                </wm-container>
                                <wm-container name="container14">
                                    <wm-composite name="composite2" captionposition="top" horizontalalign="left">
                                        <wm-label class="col-md-3 control-label" name="label7" caption="bind:appLocale.LANG_PURCHASE_BY"></wm-label>
                                        <wm-container class="col-md-9 aio-p2p-form-container" name="container15" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.prPurchaseBy ? 'form-error':''">
                                            <wm-select placeholder="bind:appLocale.LANG_SELECT_PURCHASE_BY" name="selectPurchaseBy" dataset="Purchasing, User" class="aio-p2p-form-input" datavalue="bind:Variables.vmPRModel.dataSet.prPurchaseBy" disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;"></wm-select>
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.prPurchaseBy" name="label15_1" show="bind:Variables.vmErrorMessage.dataSet.prPurchaseBy ? true : false" class="aio-p2p-error-message"></wm-label>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container16">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite3">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_PAYMENT_METHOD" name="label8"></wm-label>
                                        <wm-container class="col-md-9 aio-p2p-form-container" width="100%" name="container17" conditionalclass="bind:Variables.vmErrorMessage.dataSet.prPaymentMethod ? 'form-error' : ''">
                                            <wm-select name="selectPaymentMethod" placeholder="bind:appLocale.LANG_SELECT_PAYMENT_METHOD" dataset="bind:Widgets.selectPurchaseBy.datavalue == 'Purchasing' ? 'Purchase Order' : Widgets.selectPurchaseBy.datavalue == 'User' ? 'Purchase Order, Advance/Claim' : null"
                                                datafield="All Fields" class="aio-p2p-form-input" datavalue="bind:Variables.vmPRModel.dataSet.prPaymentMethod" disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;"></wm-select>
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.prPaymentMethod" show="bind:Variables.vmErrorMessage.dataSet.prPaymentMethod ? true : false" class="aio-p2p-error-message" name="label77_1"></wm-label>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container111">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite22">
                                        <wm-label caption="bind:appLocale.LANG_BUDGET_PROPOSAL_NUMBER" class="col-md-3 control-label" name="label78"></wm-label>
                                        <wm-container class="col-md-9" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.baYear ? 'form-error' : ''" name="container112_1">
                                            <wm-select placeholder="bind:appLocale.LANG_SELECT_BUDGET_PROPOSAL_NUMBER" dataset="bind:Variables.vProposalBudget.dataSet" datafield="All Fields" displayfield="pbDocumentNumber" name="selectBPN" datavalue="bind:Variables.vmPRModel.dataSet.tblTproposalBudget"
                                                on-change="selectBPNChange($event, widget, newVal, oldVal)" disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;"></wm-select>
                                        </wm-container>
                                        <wm-checkbox caption="Toggle" type="toggle" name="budgetProposalOption" datavalue="bind:Variables.vmPRModel.dataSet.prBudgetProposalOption"></wm-checkbox>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container20">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite4">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_PROPOSAL_BUDGET_AMOUNT" name="label13"></wm-label>
                                        <wm-container class="col-md-9" width="100%" name="container21">
                                            <wm-text placeholder="" name="textPBA" disabled="true" datavalue="bind:Widgets.selectBPN.datavalue? App.formatCurrency(Widgets.selectBPN.datavalue.pbAmount) : null"></wm-text>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container39_1">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite6">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_PROJECT_NAME" name="label26_1"></wm-label>
                                        <wm-container class="col-md-9" width="100%" name="container40">
                                            <wm-text placeholder="" disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;" datavalue="bind:Variables.vmPRModel.dataSet.prProject || Widgets.selectBPN.datavalue.pbProjectName"
                                                name="textprName" maxchars="150"></wm-text>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container23">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite5">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_DATE" name="label15"></wm-label>
                                        <wm-container class="col-md-9" width="100%" name="container24">
                                            <wm-date name="selectDate" disabled="true" datavalue="CURRENT_DATE" datepattern="dd/MM/yyyy" placeholder="" class="aio-date"></wm-date>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container43">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite9">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_ACCOUNT_TYPE" name="label27"></wm-label>
                                        <wm-container class="col-md-9 aio-p2p-form-container" width="100%" name="container44" conditionalclass="bind:Variables.vmErrorMessage.dataSet.accId ? 'form-error' : ''">
                                            <wm-select placeholder="bind:appLocale.LANG_SELECT_ACCOUNT_TYPE" dataset="bind:Variables.vAccountType.dataSet" datafield="All Fields" name="selectAccountType" displayfield="accTitle" class="aio-p2p-form-input" datavalue="bind:Variables.vmPRModel.dataSet.tblMaccountType"
                                                disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;" on-change="selectAccountTypeChange($event, widget, newVal, oldVal)"></wm-select>
                                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.accId" show="bind:Variables.vmErrorMessage.dataSet.accId ? true : false" class="aio-p2p-error-message" name="label78_2"></wm-label>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container45">
                                    <wm-composite captionposition="top" horizontalalign="left" name="composite10">
                                        <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_PRIORITY" name="label28_1"></wm-label>
                                        <wm-container class="col-md-9" width="100%" name="container46">
                                            <wm-select placeholder="bind:appLocale.LANG_SELECT_PRIORITY" name="selectPriority" dataset="bind:Variables.vmDropdownPriority.dataSet" datafield="dataValue" displayfield="name" datavalue="bind:Variables.vmPRModel.dataSet.prPriority"
                                                disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;"></wm-select>
                                        </wm-container>
                                    </wm-composite>
                                </wm-container>
                                <wm-container name="container22_1" horizontalalign="left">
                                    <wm-label class="control-label" caption="bind:appLocale.LANG_ATTACHMENT" name="label11_1"></wm-label>
                                    <wm-container name="container26">
                                        <wm-container name="container27" display="flex" class="aio-p2p-upload-container">
                                            <wm-button class="btn-default aio-p2p-btn-upload" caption="bind:appLocale.LANG_SELECT_FILE" type="button" name="buttonAddAttachment" iconurl="resources/images/logos/icon-file.png" on-click="buttonAddAttachmentClick($event, widget)"
                                                disabled="bind:Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Submitted&quot; || Variables.vPurchaseRequest.firstRecord.prStatus == &quot;Waiting Approval&quot;"></wm-button>
                                            <wm-container name="container28" width="100%"></wm-container>
                                        </wm-container>
                                        <wm-label name="label3_1" caption="bind:appLocale.LANG_FILE_FORMAT" color="#666666"></wm-label>
                                        <wm-container name="containerListAttachment" margin="8px unset unset unset">
                                            <wm-list listclass="list-group" itemclass="list-group-item" template="true" template-name="Action List" itemsperrow="xs-1 sm-1 md-1 lg-1" class="media-list" statehandler="URL" name="listAttachment" dataset="bind:Variables.vmAttachmentList.dataSet"
                                                navigation="None" nodatamessage="">
                                                <wm-listtemplate layout="inline" name="listtemplateAttachment">
                                                    <wm-layoutgrid name="layoutgrid2">
                                                        <wm-gridrow name="gridrow2_1">
                                                            <wm-gridcolumn columnwidth="10" name="gridcolumn2">
                                                                <wm-label padding="unset 0.5em" name="labelAttachment" caption="bind:Widgets.listAttachment.currentItem.fileName" color="#404143" conditionalstyle="bind:{
    cursor: 'pointer'
}" on-click="labelAttachmentClick($event, widget, item, currentItemWidgets)"></wm-label>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="2" name="gridcolumn3_1" horizontalalign="right">
                                                                <wm-picture picturesource="resources/images/logos/icon-eye.png" class="aio-p2p-clickable" show="bind:Widgets.listAttachment.currentItem.fileName.indexOf('.pdf') !== -1 ? true : false" on-click="pictViewAttachmentClick($event, widget, item, currentItemWidgets)"
                                                                    margin="unset 8px unset unset" name="pictViewAttachment"></wm-picture>
                                                                <wm-picture picturesource="resources/images/logos/icon-trash.png" class="aio-p2p-clickable" show="bind:Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Submitted&quot; &amp;&amp; Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Waiting Approval&quot;"
                                                                    on-click="pictDeleteAttachmentClick($event, widget, item, currentItemWidgets)" name="pictDeleteAttachment"></wm-picture>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                    </wm-layoutgrid>
                                                </wm-listtemplate>
                                            </wm-list>
                                        </wm-container>
                                    </wm-container>
                                    <wm-fileupload name="attachmentPR" on-select="attachmentPRSelect($event, widget, selectedFiles)" caption="Select File" iconclass="wi wi-file-text" contenttype=".jpeg .jpg .pdf .docx .doc .xlsx .xls .ppt" show="false"></wm-fileupload>
                                </wm-container>
                            </wm-container>
                            <wm-container name="container75" padding="24px" margin="unset unset 24px unset" backgroundcolor="#ffffff">
                                <wm-container name="container66" horizontalalign="left" margin="unset unset 20px unset">
                                    <wm-button caption="bind:appLocale.LANG_ADD_NEW" type="button" fontweight="bold" on-click="Widgets.dialogItem.open()" show="bind:Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Submitted&quot; &amp;&amp; Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Waiting Approval&quot;"
                                        name="button7" class="btn-default aio-p2p-btn-upload" padding="unset 30px"></wm-button>
                                </wm-container>
                                <wm-container class="aio-p2p-scroll-x" name="container47">
                                    <wm-container width="2500" name="container48">
                                        <wm-container class="aio-p2p-table-header" padding="16px unset 16px 8px" name="container49">
                                            <wm-container display="inline-block" width="2%" name="container50">
                                                <wm-label padding="unset 0.5em" caption="bind:appLocale.LANG_NO" fontweight="bold" name="label28_2"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="8%" class="aio-p2p-clickable" on-click="container41Click($event, widget)" name="container51" horizontalalign="left" padding="unset 5px">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_MATERIAL_GROUP" fontweight="bold" class="aio-p2p-clickable" name="label29_1"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="8%" class="aio-p2p-clickable" on-click="container42Click($event, widget)" name="container52" padding="unset 5px" horizontalalign="left">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_DESCRIPTION" fontweight="bold" class="aio-p2p-clickable" name="label30_1"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="7%" class="aio-p2p-clickable" on-click="container43Click($event, widget)" name="container53" horizontalalign="left" padding="unset 5px">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_SPESIFICATION" fontweight="bold" class="aio-p2p-clickable" name="label31_1"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="6%" class="aio-p2p-clickable" on-click="container44Click($event, widget)" name="container54" padding="unset 5px" horizontalalign="left">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_UOM" fontweight="bold" class="aio-p2p-clickable" name="label32"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="5%" class="aio-p2p-clickable" on-click="container45Click($event, widget)" name="container55" horizontalalign="left" padding="unset 5px">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_QUANTITY" fontweight="bold" class="aio-p2p-clickable" name="label33"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="5%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container56" padding="unset 5px" horizontalalign="left">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_CURRENCY" fontweight="bold" class="aio-p2p-clickable" name="label34"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="5%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container94_1" horizontalalign="left" padding="unset 5px">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_UNIT_PRICE" fontweight="bold" class="aio-p2p-clickable" name="label61_2"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="8%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container95_1" padding="unset 5px" horizontalalign="left">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_TOTAL_AMOUNT" fontweight="bold" class="aio-p2p-clickable" name="label62_1"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="6%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container96_1" horizontalalign="left" padding="unset 5px">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_ETA" fontweight="bold" class="aio-p2p-clickable" name="label63"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="6%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container97_1" padding="unset 5px" horizontalalign="left">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_IO_NUMBER" fontweight="bold" class="aio-p2p-clickable" name="label64"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="8%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container104" horizontalalign="left" padding="unset 5px">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_AVAILABLE_BUDGET" fontweight="bold" class="aio-p2p-clickable" name="label71"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="6%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container106" padding="unset 5px" horizontalalign="left">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_COST_CENTER" fontweight="bold" class="aio-p2p-clickable" name="label73"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="5%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container107" horizontalalign="left" padding="unset 5px">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_COA" fontweight="bold" class="aio-p2p-clickable" name="label74"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="6%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container108" horizontalalign="left" padding="unset 5px">
                                                <wm-label padding="unset 0.5px" caption="bind:appLocale.LANG_ASSET_NUMBER" fontweight="bold" class="aio-p2p-clickable" name="label75"></wm-label>
                                            </wm-container>
                                            <wm-container name="container145" display="inline-block" width="5%" horizontalalign="left">
                                                <wm-label padding="unset 0.5em" name="label110_1" caption="Status" width="4%" textalign="center" fontweight="bold"></wm-label>
                                            </wm-container>
                                            <wm-container display="inline-block" width="4%" class="aio-p2p-clickable" on-click="container50Click($event, widget)" name="container110_1"></wm-container>
                                        </wm-container>
                                        <wm-list listclass="list-group" template="true" template-name="Media List" itemsperrow="xs-1 sm-1 md-1 lg-1" class="media-list" dataset="bind:Variables.vmListLineItem.dataSet? filterListItem(Variables.vmListLineItem.dataSet) : null"
                                            navigation="Basic" on-beforedatarender="dataListBeforedatarender(widget, $data)" name="listLineItem" padding="unset unset unset 8px" statehandler="none">
                                            <wm-listtemplate layout="media" name="listtemplate2">
                                                <wm-container name="container57" padding="10px unset">
                                                    <wm-container display="inline-block" width="2%" name="container58">
                                                        <wm-label padding="unset 0.5em" caption="bind:getTableNumberingLI(Variables.vmListLineItem, Widgets.listLineItem.currentItem, &quot;index&quot;)" name="label35"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="8%" name="container59" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliMatGroup" name="label36" hint="bind:Widgets.listLineItem.currentItem.pliMatGroupDesc"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="8%" name="container60" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliDesc" name="label37" whitespace="normal"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="7%" name="container61" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliSpec" name="label38"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="6%" name="container62" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliUom" name="label39"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="5%" name="container63" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliQty" name="label40"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="5%" name="container64" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliCurrency.fromCurrency" name="label41"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="5%" name="container99" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliUnitPrice | toCurrency: ''" name="label66"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="8%" name="container101" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:(Widgets.listLineItem.currentItem.pliQty * Widgets.listLineItem.currentItem.pliUnitPrice) | toCurrency: ''" name="label68"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="6%" name="container102" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliEta | toDate: 'dd/MM/yyyy'" name="label69"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="6%" name="container103" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.ioNumber" name="label70"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="8%" name="container109" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:getAvailableBudget2(Widgets.listLineItem.currentItem, Variables.vdbActiveBudget.dataSet)" name="label76"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="6%" name="container110" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliCostCenter" name="label77"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="5%" name="container112" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliCoa" name="label79"></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="6%" name="container114" padding="unset 5px" horizontalalign="left">
                                                        <wm-label padding="unset 0.5px" caption="bind:Widgets.listLineItem.currentItem.pliAssetNumber" name="label81"></wm-label>
                                                    </wm-container>
                                                    <wm-container name="container146" display="inline-block" width="5%" horizontalalign="left">
                                                        <wm-label padding="unset 0.5em" name="label111_1" caption="bind:Widgets.listLineItem.currentItem.pliStatus | uppercase "></wm-label>
                                                    </wm-container>
                                                    <wm-container display="inline-block" width="4%" horizontalalign="right" name="container65">
                                                        <wm-picture picturesource="resources/images/logos/icon-eye.png" on-click="picture20Click($event, widget, item, currentItemWidgets)" margin="unset 8px unset unset" class="aio-p2p-clickable" show="false"
                                                            name="picture7"></wm-picture>
                                                        <wm-picture picturesource="resources/images/logos/icon-pencil.png" on-click="Widgets.dialogItemEdit.open()" margin="-15px 8px unset unset" class="aio-p2p-clickable" show="bind:Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Submitted&quot; &amp;&amp; Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Waiting Approval&quot; &amp;&amp; Widgets.listLineItem.currentItem.pliStatus !== &quot;closed&quot; "
                                                            name="picture8"></wm-picture>
                                                        <wm-picture picturesource="resources/images/logos/icon-trash.png" on-click="Widgets.dialogDelete.open()" class="aio-p2p-clickable" show="bind:Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Submitted&quot; &amp;&amp; Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Waiting Approval&quot; &amp;&amp; Widgets.listLineItem.currentItem.pliStatus !== &quot;closed&quot; "
                                                            name="picture9" margin="-15px unset unset unset"></wm-picture>
                                                    </wm-container>
                                                </wm-container>
                                            </wm-listtemplate>
                                        </wm-list>
                                    </wm-container>
                                </wm-container>
                            </wm-container>
                            <wm-container padding="24px" margin="unset unset 24px unset" backgroundcolor="#ffffff" name="containerNotes" show="bind:Widgets.selectAccountType.datavalue.accCode == 'ASSET' || Widgets.selectAccountType.datavalue.accCode == 'SEWA_LEASING'">
                                <wm-container horizontalalign="left" margin="unset unset 20px unset" name="container113">
                                    <wm-html name="htmlNotesAsset" class="aio-pr-notes" show="bind:Widgets.selectAccountType.datavalue.accCode == 'ASSET'" content="bind:appLocale[&quot;LANG_NOTES&quot;] +&quot; : <br>&quot;+ appLocale[&quot;LANG_MATERIAL_CAN_BE_USED_FOR_MORE_THAN_1_YEAR&quot;]+&quot; <br>&quot;+appLocale[&quot;LANG_MATERIALS_NOT_TRADE_GOODS&quot;]+&quot; <br>&quot;+appLocale[&quot;LANG_AMOUNT_OF_MATERIAL_SAME_OR_LESS_THAN_IDR_500_000_UNIT&quot;]+&quot;  <br>&quot;+appLocale[&quot;LANG_MATERIALS_ARE_OWNED_BY_THE_COMPANY_TO_SUPPORT_OPERATIONAL_ACTIVITIES&quot;]">
                                        bind:appLocale["LANG_NOTES"] +" :
                                        <br>"+ appLocale["LANG_MATERIAL_CAN_BE_USED_FOR_MORE_THAN_1_YEAR"]+"
                                        <br>"+appLocale["LANG_MATERIALS_NOT_TRADE_GOODS"]+"
                                        <br>"+appLocale["LANG_AMOUNT_OF_MATERIAL_SAME_OR_LESS_THAN_IDR_500_000_UNIT"]+"
                                        <br>"+appLocale["LANG_MATERIALS_ARE_OWNED_BY_THE_COMPANY_TO_SUPPORT_OPERATIONAL_ACTIVITIES"]
                                    </wm-html>
                                    <wm-html class="aio-pr-notes" name="htmlNotesSewaLeasing" show="bind:Widgets.selectAccountType.datavalue.accCode == 'SEWA_LEASING'" content="bind:appLocale[&quot;LANG_NOTES&quot;] +&quot; : <br>&quot;+appLocale[&quot;LANG_FOR_LEASING_MORE_THAN_1_YEAR_AS_AN_IFRS_16&quot;] ">
                                        bind:appLocale["LANG_NOTES"] +" :
                                        <br>"+appLocale["LANG_FOR_LEASING_MORE_THAN_1_YEAR_AS_AN_IFRS_16"]
                                    </wm-html>
                                </wm-container>
                            </wm-container>
                            <wm-container name="btnContainer">
                                <wm-container name="container24_1" class="col-md-6" horizontalalign="left">
                                    <wm-button class="btn-default" caption="bind:appLocale.LANG_HISTORY" type="button" margin="unset 0.5em unset unset" name="buttonHistory" width="33%" iconurl="resources/images/logos/icon-history.png" color="#026CB6" fontweight="bold"
                                        on-click="Widgets.dialogHistory.open()"></wm-button>
                                </wm-container>
                                <wm-container class="col-md-6" horizontalalign="right" name="container25">
                                    <wm-button class="btn-default" caption="Cancel" type="button" margin="unset 0.5em" width="30%" name="buttonCancel" color="#BA0D2B" fontweight="bold" on-click="Actions.goToPage_PurchaseRequestPage.invoke()" show="false"></wm-button>
                                    <wm-button class="btn-default" caption="bind:appLocale.LANG_SAVE" type="button" margin="unset 0.5em" width="30%" name="buttonSave" color="#026CB6" fontweight="bold" on-click="buttonSaveClick($event, widget)"
                                        show="bind:Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Submitted&quot; &amp;&amp; Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Waiting Approval&quot;" disabled="bind:Variables.vmListLineItem.dataSet.length < 1"></wm-button>
                                    <wm-button class="btn-default" caption="bind:appLocale.LANG_SUBMIT" type="button" margin="unset unset unset 0.5em" width="30%" name="buttonSubmit" color="#fff" backgroundcolor="#026CB6" fontweight="bold"
                                        on-click="buttonSubmitClick($event, widget)" show="bind:Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Submitted&quot; &amp;&amp; Variables.vPurchaseRequest.firstRecord.prStatus !== &quot;Waiting Approval&quot;"
                                        disabled="bind:Variables.vmListLineItem.dataSet.length < 1"></wm-button>
                                </wm-container>
                            </wm-container>
                        </wm-container>
                        <wm-container show="bind:Variables.varShowPdf.dataSet.dataValue" width="50%" name="containerSideRightPdf" class="aio-ptp-pdf-viewer">
                            <wm-container horizontalalign="right" padding="24px 10px 24px unset" name="container116" conditionalstyle="bind:{
    position: &quot;sticky&quot;,
    top: &quot;0px&quot;,
    zIndex: &quot;10&quot;
}">
                                <wm-picture width="15" on-click="picture6Click($event, widget)" class="aio-p2p-clickable" pictureplaceholder="resources/images/imagelists/icon-close.png" name="picture6"></wm-picture>
                            </wm-container>
                            <wm-container padding="unset 10px unset 25px" name="container117">
                                <div id="pdf-canvas-container"></div>
                            </wm-container>
                        </wm-container>
                    </wm-container>
                </wm-container>
            </wm-container>
            <wm-container name="FooterContainer" class="aio-p2p-footer-container" content="PageFooter"></wm-container>
            <wm-spinner show="false" name="spinner1" class="top-spinner" servicevariabletotrack="svGeneratePrRef,svSendCheckerNotif,vdbActiveBudget,vdbqGetCurrencyByCode,vdbqInsertBudgetDetails,vEmployeeDef,vPrHistory,vPrLineItem"></wm-spinner>
        </wm-page-content>
    </wm-content>
    <wm-dialog dialogtype="design-dialog" modal="true" title="bind:appLocale[&quot;LANG_HISTORY&quot;] + ' ' + appLocale[&quot;LABEL_PR_NUMBER&quot;] +  ': (' + Variables.vmPRModel.dataSet.prRef  + ') '" iconclass="" name="dialogHistory" class="aio-p2p-modal"
        width="977">
        <wm-dialogactions name="dialogactions1">
            <wm-button class="btn-primary" caption="bind:appLocale.LANG_CLOSE" on-click="closeDialog()" name="button6_1"></wm-button>
        </wm-dialogactions>
        <wm-container name="container29" display="block" backgroundcolor="#F6F7F8" padding="8px 16px">
            <wm-container name="container30" display="inline-block" width="25%">
                <wm-label padding="unset 0.5em" name="label23" fontweight="bold" caption="bind:appLocale.LANG_NAME"></wm-label>
            </wm-container>
            <wm-container name="container31" display="inline-block" width="25%">
                <wm-label padding="unset 0.5em" name="label24" fontweight="bold" caption="bind:appLocale.LANG_ACTIONS"></wm-label>
            </wm-container>
            <wm-container display="inline-block" name="container32" width="25%">
                <wm-label padding="unset 0.5em" name="label25" fontweight="bold" caption="bind:appLocale.LANG_DATE"></wm-label>
            </wm-container>
            <wm-container display="inline-block" name="container33" width="25%">
                <wm-label padding="unset 0.5em" name="label26" fontweight="bold" caption="bind:appLocale.LANG_COMMENTS"></wm-label>
            </wm-container>
        </wm-container>
        <wm-list listclass="list-group" itemclass="list-group-item" template="true" template-name="Contact List" itemsperrow="xs-1 sm-1 md-1 lg-1" class="media-list" datafield="All Fields" statehandler="URL" name="listHistory" navigation="None" dataset="bind:Variables.vPrHistory.dataSet">
            <wm-listtemplate layout="inline" name="listtemplate1">
                <wm-container display="block" name="container35">
                    <wm-container display="inline-block" name="container36" width="25%">
                        <wm-label padding="unset 0.5em" name="label28" caption="bind:Widgets.listHistory.currentItem.prhActionByName"></wm-label>
                    </wm-container>
                    <wm-container display="inline-block" name="container37" width="25%">
                        <wm-label padding="unset 0.5em" name="label29" caption="bind:Widgets.listHistory.currentItem.prhAction"></wm-label>
                    </wm-container>
                    <wm-container display="inline-block" name="container38" width="25%">
                        <wm-label padding="unset 0.5em" name="label30" caption="bind:Widgets.listHistory.currentItem.prhActionAt | toDate: 'dd/MM/yyyy hh:mm a'"></wm-label>
                    </wm-container>
                    <wm-container display="inline-block" name="container39" width="25%">
                        <wm-label padding="unset 0.5em" name="label31" caption="bind:Widgets.listHistory.currentItem.prhNotes" hint="bind:Widgets.listHistory.currentItem.prhNotes" whitespace="normal"></wm-label>
                    </wm-container>
                </wm-container>
            </wm-listtemplate>
        </wm-list>
    </wm-dialog>
    <wm-dialog dialogtype="design-dialog" modal="true" title="bind:appLocale.LANG_ADD_PR_ITEM" iconclass="" name="dialogItem" class="aio-p2p-modal" width="70%">
        <wm-layoutgrid name="layoutgrid1">
            <wm-gridrow name="gridrow2">
                <wm-gridcolumn columnwidth="12" name="gridcolumn3">
                    <wm-container backgroundcolor="#fff" margin="unset unset 24px unset" name="container67">
                        <wm-container horizontalalign="left" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liMaterialGroup ? 'form-error' : ''" name="container68">
                            <wm-label caption="bind:appLocale.LANG_MATERIAL_GROUP" class="col-md-3 control-label" name="label46"></wm-label>
                            <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_ENTER_MATERIAL_GROUP" dataset="bind:Variables.vViewMaterialGroup.dataSet" displaylabel="bind:$[materialGroup] + ' - ' + $[materialGroupDesc]" datafield="All Fields"
                                matchmode="startignorecase" class="aio-p2p-form-field" disabled="false" name="searchMaterialGroup" searchkey="materialGroup,materialGroupDesc"></wm-search>
                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liMaterialGroup" show="bind:Variables.vmErrorMessage.dataSet.liMaterialGroup ? true : false" class="aio-p2p-error-message" name="label47"></wm-label>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture10"></wm-picture>
                        </wm-container>
                        <wm-container name="container69">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite10_1">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_DESCRIPTION" name="label48"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liDesc ? 'form-error':''" name="container70">
                                    <wm-textarea placeholder="bind:appLocale.LANG_ENTER_DESCRIPTION" class="aio-p2p-form-input" maxchars="500" disabled="false" name="textareaDescription"></wm-textarea>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liDesc" show="bind:Variables.vmErrorMessage.dataSet.liDesc ? true : false" class="aio-p2p-error-message" name="label49"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container71">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite11">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_SPESIFICATION" name="label50"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liSpec ? 'form-error' : ''" name="container72">
                                    <wm-text placeholder="bind:appLocale.LANG_ENTER_SPESIFICATION" disabled="false" name="textSpesification" maxchars="150" class="aio-p2p-form-input"></wm-text>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liSpec" show="bind:Variables.vmErrorMessage.dataSet.liSpec ? true : false" class="aio-p2p-error-message" name="label51"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container73">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite12">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_UOM" name="label52"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liUOM ? 'form-error':''" name="container74">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_UOM" dataset="bind:Variables.vViewUOM.dataSet" displaylabel="bind:$[uomChar3] + ' - ' + $[uomChar30]" datafield="All Fields" matchmode="startignorecase"
                                        class="aio-p2p-form-field" disabled="false" name="searchUOM" searchkey="uomChar3,uomChar30"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liUOM" show="bind:Variables.vmErrorMessage.dataSet.liUOM ? true : false" class="aio-p2p-error-message" name="label53"></wm-label>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture11"></wm-picture>
                        </wm-container>
                        <wm-container name="container75_1">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite13">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_QUANTITY" name="label54"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liQty ? 'form-error' : ''" name="container76">
                                    <wm-text placeholder="bind:appLocale.LANG_ENTER_QUANTITY" disabled="false" name="textQuantity" type="text" minvalue="1" class="aio-p2p-form-input" updateon="default" on-keyup="textQuantityKeyup($event, widget)"></wm-text>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liQty" show="bind:Variables.vmErrorMessage.dataSet.liQty ? true : false" class="aio-p2p-error-message" name="label79_1"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container78">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite14">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_CURRENCY" name="label57"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" name="container79" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liCurrency ? 'form-error' : ''">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_CURRENCY" dataset="bind:Variables.vmCurrency.dataSet" displaylabel="fromCurrency" datafield="All Fields" class="aio-p2p-form-field" disabled="false"
                                        name="searchCurrency" searchkey="fromCurrency"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liCurrency" show="bind:Variables.vmErrorMessage.dataSet.liCurrency ? true : false" class="aio-p2p-error-message" name="label80"></wm-label>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture12"></wm-picture>
                            <wm-container horizontalalign="left" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liUnitPrice ? 'form-error' : ''" name="container77">
                                <wm-label caption="bind:appLocale.LANG_UNIT_PRICE" class="col-md-3 control-label" name="label55"></wm-label>
                                <wm-text placeholder="bind:appLocale.LANG_ENTER_UNIT_PRICE" disabled="false" name="textUnitPrice" type="text" updateon="default" on-change="textUnitPriceChange($event, widget, newVal, oldVal)" class="aio-p2p-form-input"
                                    maxchars="19"></wm-text>
                                <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liUnitPrice" show="bind:Variables.vmErrorMessage.dataSet.liUnitPrice ? true : false" class="aio-p2p-error-message" name="label56"></wm-label>
                            </wm-container>
                        </wm-container>
                        <wm-container name="container80">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite15">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_TOTAL_AMOUNT" name="label58"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" name="container81" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liTotalAmount ? 'form-error' : ''">
                                    <wm-text placeholder="" disabled="true" datavalue="bind:Widgets.textQuantity.datavalue &amp;&amp; Widgets.textUnitPrice.datavalue ? App.formatCurrency(Widgets.textQuantity.datavalue * convertInt(Widgets.textUnitPrice.datavalue)) : null"
                                        name="textTotalAmount" type="text" class="aio-p2p-form-input"></wm-text>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liTotalAmount" show="bind:Variables.vmErrorMessage.dataSet.liTotalAmount ? true : false" class="aio-p2p-error-message" name="label81_1"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container82">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite16">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_ETA" name="label59"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" name="container83" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liETA ? 'form-error' : ''">
                                    <wm-date name="dateETA" disabled="false" datepattern="dd/MM/yyyy" class="aio-date-eta aio-p2p-form-field" placeholder="bind:appLocale.LANG_SELECT_DATE" mindate="CURRENT_DATE"></wm-date>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liETA" show="bind:Variables.vmErrorMessage.dataSet.liETA ? true : false" class="aio-p2p-error-message" name="label82"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container84">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite17">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_IO_NUMBER" name="label60"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" name="container85" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liIONumber ? 'form-error' : ''">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SEARCH_IO_NUMBER" dataset="bind:Variables.svGetIONumber.dataSet" displaylabel="bind:$[ioNumber] + &quot; - &quot; + $[ioName]" datafield="All Fields" class="aio-p2p-form-field"
                                        disabled="false" name="searchIONumber" searchkey="ioNumber,ioName" datacompletemsg="bind:''"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liIONumber" show="bind:Variables.vmErrorMessage.dataSet.liIONumber ? true : false" class="aio-p2p-error-message" name="label83"></wm-label>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture13"></wm-picture>
                        </wm-container>
                        <wm-container name="container86">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite18">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_AVAILABLE_BUDGET" name="label61"></wm-label>
                                <wm-container class="col-md-9" width="100%" name="container87">
                                    <wm-text placeholder="" disabled="true" name="textAvailableBudget" type="text" datavalue="bind:!Widgets.searchIONumber.datavalue ? null : App.formatCurrency(Variables.vBudgetDetails.firstRecord.availableBudget)"></wm-text>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container92">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite19">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_COST_CENTER" name="label60_1"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" name="container93" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liCostCenter ? 'form-error' : ''">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_COST_CENTER" dataset="bind:Variables.vViewCostCenter.dataSet" displaylabel="bind:$[costCenter] + &quot; - &quot; + $[shortText]" datafield="All Fields"
                                        matchmode="startignorecase" class="aio-p2p-form-field" disabled="false" name="searchCostCenter" searchkey="costCenter,shortText"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liCostCenter" show="bind:Variables.vmErrorMessage.dataSet.liCostCenter ? true : false" class="aio-p2p-error-message" name="label84"></wm-label>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture14"></wm-picture>
                        </wm-container>
                        <wm-container name="container94">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite20">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_COA" name="label61_1"></wm-label>
                                <wm-container class="col-md-9" width="100%" name="container95">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_COA" dataset="bind:Variables.vViewCoa.dataSet" displaylabel="bind:$[glNumber] + &quot; - &quot; + $[glShortText]" datafield="All Fields" matchmode="startignorecase"
                                        class="aio-p2p-form-field" disabled="false" name="searchCoa" searchkey="glNumber,glShortText"></wm-search>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture15"></wm-picture>
                        </wm-container>
                        <wm-container name="container96">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite21">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_ASSET_NUMBER" name="label62"></wm-label>
                                <wm-container class="col-md-9" width="100%" name="container97">
                                    <wm-text placeholder="bind:appLocale.LANG_ENTER_ASSET_NUMBER" disabled="bind:Widgets.selectAccountType.datavalue.accId === 3 ? false : Widgets.selectAccountType.datavalue.accId === 4 ? false : true" name="textAssetNumber"></wm-text>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                    </wm-container>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-dialogactions name="dialogactions2">
            <wm-button class="btn-outline" caption="bind:appLocale.LANG_CLOSE" on-click="closeDialog();button8Click($event, widget)" name="button8" margin="unset unset 20px unset"></wm-button>
            <wm-button class="btn-primary" caption="bind:appLocale.LANG_SAVE" on-click="buttonSaveLIClick($event, widget)" name="buttonSaveLI" margin="unset unset 20px 10px"></wm-button>
        </wm-dialogactions>
    </wm-dialog>
    <wm-confirmdialog on-ok="dialogDeleteOk($event, widget)" on-cancel="Widgets.dialogDelete.close()" name="dialogDelete" title="bind:appLocale.LANG_DELETE_CONFIRMATION" message="bind:appLocale.LANG_ARE_YOU_SURE_YOU_WANT_TO_DELETE_THIS_ACTION_CAN_T_BE_UNDONE_AND_THE_DATA_CAN_T_BE_RESTORED"
        oktext="bind:appLocale.LANG_DELETE" canceltext="bind:appLocale.LANG_CANCEL" iconclass="" class="aio-p2p-modal aio-p2p-modal-delete"></wm-confirmdialog>
    <wm-dialog dialogtype="design-dialog" modal="true" title="bind:appLocale.LANG_EDIT_PR_ITEM" iconclass="" name="dialogItemEdit" width="70%" class="aio-p2p-modal" on-opened="dialogItemEditOpened($event, widget)">
        <wm-dialogactions name="dialogactions3">
            <wm-button class="btn-outline" caption="bind:appLocale.LANG_CLOSE" on-click="closeDialog();button10Click($event, widget)" name="button10" margin="unset unset 20px unset"></wm-button>
            <wm-button class="btn-primary" caption="bind:appLocale.LANG_SAVE" on-click="buttonSaveLiEditClick($event, widget)" margin="unset unset 20px 10px" name="buttonSaveLiEdit"></wm-button>
        </wm-dialogactions>
        <wm-layoutgrid name="layoutgrid4">
            <wm-gridrow name="gridrow5">
                <wm-gridcolumn columnwidth="12" name="gridcolumn8">
                    <wm-container backgroundcolor="#fff" margin="unset unset 24px unset" name="container118">
                        <wm-container horizontalalign="left" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liMaterialGroup ? 'form-error' : ''" name="container119">
                            <wm-label caption="bind:appLocale.LANG_MATERIAL_GROUP" class="col-md-3 control-label" name="label89"></wm-label>
                            <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_ENTER_MATERIAL_GROUP" dataset="bind:Variables.vViewMaterialGroup.dataSet" displaylabel="bind:$[materialGroup] + ' - ' + $[materialGroupDesc]" datafield="All Fields"
                                matchmode="startignorecase" class="aio-p2p-form-field" disabled="false" searchkey="materialGroup,materialGroupDesc" name="searchMaterialGroupEdit" datavalue="bind:Variables.vViewMaterialGroupDef.firstRecord"></wm-search>
                            <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liMaterialGroup" show="bind:Variables.vmErrorMessage.dataSet.liMaterialGroup ? true : false" class="aio-p2p-error-message" name="label90"></wm-label>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture16"></wm-picture>
                        </wm-container>
                        <wm-container name="container120">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite23">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_DESCRIPTION" name="label91"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liDesc ? 'form-error':''" name="container121">
                                    <wm-textarea placeholder="bind:appLocale.LANG_ENTER_DESCRIPTION" class="aio-p2p-form-input" maxchars="500" disabled="false" name="textareaDescriptionEdit" datavalue="bind:Widgets.listLineItem.selecteditem.pliDesc"></wm-textarea>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liDesc" show="bind:Variables.vmErrorMessage.dataSet.liDesc ? true : false" class="aio-p2p-error-message" name="label92"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container122">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite24">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_SPESIFICATION" name="label93"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liSpec ? 'form-error' : ''" name="container123">
                                    <wm-text placeholder="bind:appLocale.LANG_ENTER_SPESIFICATION" disabled="false" maxchars="150" class="aio-p2p-form-input" name="textSpesificationEdit" datavalue="bind:Widgets.listLineItem.selecteditem.pliSpec"></wm-text>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liSpec" show="bind:Variables.vmErrorMessage.dataSet.liSpec ? true : false" class="aio-p2p-error-message" name="label94"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container124">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite25">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_UOM" name="label95"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liUOM ? 'form-error':''" name="container125">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_UOM" dataset="bind:Variables.vViewUOM.dataSet" displaylabel="bind:$[uomChar3] + ' - ' + $[uomChar30]" datafield="All Fields" matchmode="startignorecase"
                                        class="aio-p2p-form-field" disabled="false" searchkey="uomChar3,uomChar30" name="searchUOMEdit" datavalue="bind:Variables.vViewUOMDef.firstRecord"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liUOM" show="bind:Variables.vmErrorMessage.dataSet.liUOM ? true : false" class="aio-p2p-error-message" name="label96"></wm-label>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture17"></wm-picture>
                        </wm-container>
                        <wm-container name="container126">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite26">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_QUANTITY" name="label97"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liQty ? 'form-error' : ''" name="container127">
                                    <wm-text placeholder="bind:appLocale.LANG_ENTER_QUANTITY" disabled="false" type="text" minvalue="1" class="aio-p2p-form-input" name="textQuantityEdit" datavalue="bind:Widgets.listLineItem.selecteditem.pliQty" maxchars="15"
                                        updateon="default" on-keyup="textQuantityEditKeyup($event, widget)"></wm-text>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liQty" show="bind:Variables.vmErrorMessage.dataSet.liQty ? true : false" class="aio-p2p-error-message" name="label98"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container129">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite27">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_CURRENCY" name="label101"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liCurrency ? 'form-error' : ''" name="container130">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_CURRENCY" dataset="bind:Variables.vmCurrency.dataSet" displaylabel="fromCurrency" datafield="All Fields" class="aio-p2p-form-field" disabled="false"
                                        searchkey="fromCurrency" name="searchCurrencyEdit" datavalue="bind:Widgets.listLineItem.selecteditem.pliCurrency"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liCurrency" show="bind:Variables.vmErrorMessage.dataSet.liCurrency ? true : false" class="aio-p2p-error-message" name="label102"></wm-label>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture18"></wm-picture>
                            <wm-container horizontalalign="left" class="form-group aio-p2p-form-container" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liUnitPrice ? 'form-error' : ''" name="container128">
                                <wm-label caption="bind:appLocale.LANG_UNIT_PRICE" class="col-md-3 control-label" name="label99"></wm-label>
                                <wm-text placeholder="bind:appLocale.LANG_ENTER_UNIT_PRICE" disabled="false" type="text" updateon="default" on-change="textUnitPriceEditChange($event, widget, newVal, oldVal)" class="aio-p2p-form-input" name="textUnitPriceEdit"
                                    datavalue="bind:App.formatCurrency(Widgets.listLineItem.selecteditem.pliUnitPrice)" maxchars="19"></wm-text>
                                <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liUnitPrice" show="bind:Variables.vmErrorMessage.dataSet.liUnitPrice ? true : false" class="aio-p2p-error-message" name="label100"></wm-label>
                            </wm-container>
                        </wm-container>
                        <wm-container name="container131">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite28">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_TOTAL_AMOUNT" name="label103"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liTotalAmount ? 'form-error' : ''" name="container132">
                                    <wm-text placeholder="" disabled="true" datavalue="bind:Widgets.textQuantityEdit.datavalue &amp;&amp; Widgets.textUnitPriceEdit.datavalue ? App.formatCurrency(Widgets.textQuantityEdit.datavalue * convertInt(Widgets.textUnitPriceEdit.datavalue)) : null"
                                        type="text" class="aio-p2p-form-input" name="textTotalAmountEdit"></wm-text>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liTotalAmount" show="bind:Variables.vmErrorMessage.dataSet.liTotalAmount ? true : false" class="aio-p2p-error-message" name="label104"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container133">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite29">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_ETA" name="label105"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liETA ? 'form-error' : ''" name="container134">
                                    <wm-date disabled="false" datepattern="dd/MM/yyyy" class="aio-date-eta aio-p2p-form-field" name="dateETAEdit" datavalue="bind:Widgets.listLineItem.selecteditem.pliEta" placeholder="bind:appLocale.LANG_SELECT_DATE"></wm-date>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liETA" show="bind:Variables.vmErrorMessage.dataSet.liETA ? true : false" class="aio-p2p-error-message" name="label106"></wm-label>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container135">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite30">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_IO_NUMBER" name="label107"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liIONumber ? 'form-error' : ''" name="container136">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SEARCH_IO_NUMBER" dataset="bind:Variables.svGetIONumber.dataSet" displaylabel="bind:$[ioNumber] + &quot; - &quot; + $[ioName]" datafield="All Fields" class="aio-p2p-form-field"
                                        disabled="false" searchkey="ioNumber,ioName" datacompletemsg="bind:''" name="searchIONumberEdit" datavalue="bind:Variables.svGetIONumberDef.firstRecord"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liIONumber" show="bind:Variables.vmErrorMessage.dataSet.liIONumber ? true : false" class="aio-p2p-error-message" name="label108"></wm-label>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture19"></wm-picture>
                        </wm-container>
                        <wm-container name="container137">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite31">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_AVAILABLE_BUDGET" name="label109"></wm-label>
                                <wm-container class="col-md-9" width="100%" name="container138">
                                    <wm-text placeholder="" disabled="true" type="text" datavalue="bind:!Widgets.searchIONumberEdit.datavalue ? null : App.formatCurrency(Variables.vBudgetDetailsEdit.firstRecord.availableBudget)" name="textAvailableBudgetEdit"></wm-text>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                        <wm-container name="container139">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite32">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_COST_CENTER" name="label110"></wm-label>
                                <wm-container class="col-md-9 aio-p2p-form-container" width="100%" conditionalclass="bind:Variables.vmErrorMessage.dataSet.liCostCenter ? 'form-error' : ''" name="container140">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_COST_CENTER" dataset="bind:Variables.vViewCostCenter.dataSet" displaylabel="bind:$[costCenter] + &quot; - &quot; + $[shortText]" datafield="All Fields"
                                        matchmode="startignorecase" class="aio-p2p-form-field" disabled="false" searchkey="costCenter,shortText" name="searchCostCenterEdit" datavalue="bind:Variables.vViewCostCenterDef.firstRecord"></wm-search>
                                    <wm-label caption="bind:Variables.vmErrorMessage.dataSet.liCostCenter" show="bind:Variables.vmErrorMessage.dataSet.liCostCenter ? true : false" class="aio-p2p-error-message" name="label111"></wm-label>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture20"></wm-picture>
                        </wm-container>
                        <wm-container name="container141">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite33">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_COA" name="label112"></wm-label>
                                <wm-container class="col-md-9" width="100%" name="container142">
                                    <wm-search type="autocomplete" placeholder="bind:appLocale.LANG_SELECT_COA" dataset="bind:Variables.vViewCoa.dataSet" displaylabel="bind:$[glNumber] + &quot; - &quot; + $[glShortText]" datafield="All Fields" matchmode="startignorecase"
                                        class="aio-p2p-form-field" disabled="false" searchkey="glNumber,glShortText" name="searchCoaEdit" datavalue="bind:Widgets.listLineItem.selecteditem.pliCoa ? Variables.vViewCoaDef.firstRecord : null"></wm-search>
                                </wm-container>
                            </wm-composite>
                            <wm-picture picturesource="resources/images/logos/icon-chevron-down.png" class="aio-p2p-icon-down" name="picture21"></wm-picture>
                        </wm-container>
                        <wm-container name="container143">
                            <wm-composite captionposition="top" horizontalalign="left" name="composite34">
                                <wm-label class="col-md-3 control-label" caption="bind:appLocale.LANG_ASSET_NUMBER" name="label113"></wm-label>
                                <wm-container class="col-md-9" width="100%" name="container144">
                                    <wm-text placeholder="bind:appLocale.LANG_ENTER_ASSET_NUMBER" disabled="bind:Widgets.selectAccountType.datavalue.accId === 3 ? false : Widgets.selectAccountType.datavalue.accId === 4 ? false : true" name="textAssetNumberEdit"
                                        datavalue="bind:Widgets.listLineItem.selecteditem.pliAssetNumber"></wm-text>
                                </wm-container>
                            </wm-composite>
                        </wm-container>
                    </wm-container>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
        <wm-spinner show="false" name="spinner2" class="top-spinner" servicevariabletotrack="vBudgetDetailsEdit,vViewCoaDef,svGetIONumberDef,vViewCostCenterDef,vViewMaterialGroupDef"></wm-spinner>
    </wm-dialog>
</wm-page>